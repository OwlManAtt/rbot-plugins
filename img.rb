class ImgPlugin < Plugin
    def initialize
        super
        @ext_list = 
['.001','.2bp','.3d','.3d2','.3d4','.3da','.3df','.3dl','.3dm','.3dmf','.3ds','.3dv','.3dx','.3dxml','.411','.8pbs','.8xi','.abm','.ac5','.ac6','.acr','.act','.adc','.afp','.afx','.agif','.agp','.ai','.aic','.ais','.albm','.an8','.anm','.apm','.apng','.arr','.art','.art','.artwork','.arw','.arw','.asat','.awd','.awd','.bcf','.bcp','.bip','.biz','.blend','.blkrt','.blz','.bm2','.bmc','.bmf','.bmp','.br3','.br4','.br5','.brk','.bro','.bro','.btw','.bvh','.c4','.c4d','.cag','.cal','.cal','.cals','.cam','.can','.cbf','.cd2','.cd5','.cdg','.cdr','.cdx','.ce','.cgm','.ch3','.cil','.cin','.cit','.cld','.cm2','.cmx','.cmz','.cnv','.comicdoc','.cpc','.cpd','.cpg','.cph','.cps','.cpt','.cpx','.cpy','.cr2','.cr2','.crw','.crz','.csd','.csf','.csm','.ct','.cut','.cv5','.cvg','.cvi','.cvs','.cvx','.dae','.dcm','.dcr','.dcs','.dcx','.dcx','.ddb','.ddrw','.dds','.ded','.des','.design','.dff','.dib','.djv','.djvu','.dng','.dot','.dpd','.dpp','.dpr','.dpx','.drw','.drw','.dsf','.dt2','.dtp','.dtw','.dvl','.dwf','.dxb','.ecw','.egg','.emf','.emz','.enc','.eps','.epsf','.erf','.exp','.fac','.face','.fal','.fax','.fbm','.fbx','.fc2','.fcz','.fd2','.fh10','.fh11','.fh7','.fh8','.fh9','.fhd','.fif','.fig','.fil','.fits','.fm','.fmv','.fp3','.fpe','.fpf','.fpx','.frm','.fs','.ft10','.ft11','.ft7','.ft8','.ft9','.fx','.fxg','.fxm','.gbr','.gem','.gem','.geo','.gfb','.gif','.gih','.gim','.gks','.gpd','.graffle','.grn','.gro','.grob','.gry','.gsd','.hcr','.hd2','.hdp','.hdr','.hdz','.hf','.hip','.hipnc','.hmk','.hpg','.hpgl','.hpi','.hpl','.hr','.hr2','.hrf','.hrz','.htz4','.ic1','.ic2','.ic3','.ica','.icap','.icb','.icml','.icn','.icon','.idap','.idml','.idms','.ifc','.iges','.ilbm','.ildoc','.img','.imj','.inct','.incx','.ind','.indd','.indl','.indp','.inds','.indt','.info','.ink','.ink','.int','.inx','.ipx','.isd','.itc2','.ithmb','.iv','.ivr','.j','.j2c','.j2k','.jas','.jb2','.jbf','.jbig','.jbr','.jfi','.jfif','.jia','.jif','.jiff','.jng','.jp2','.jpc','.jpd','.jpe','.jpeg','.jpf','.jpg','.jpx','.jtf','.jtp','.jwl','.jxr','.kdc','.kdk','.kfx','.kic','.kmc','.kmcobj','.kodak','.kpg','.lab','.lbl','.lbm','.ldm','.llm','.lnd','.lt2','.ltz','.lwo','.lws','.lxf','.m3d','.m3d','.ma','.mac','.mat','.max','.max','.max','.mb','.mbbk','.mbm','.mc5','.mc6','.mcs','.mcz','.mdi','.mdl','.mdx','.meb','.mesh','.met','.mfo','.mfp','.mft','.mgcb','.mgf','.mgs','.mic','.mip','.mix','.mml','.mng','.mnm','.mnr','.mp','.mpf','.mrb','.mrw','.ms3d','.msk','.msp','.mtx','.mtz','.nap','.ncd','.ncr','.nct','.nef','.neo','.nff','.nif','.npp','.nrw','.obj','.obz','.odg','.odi','.off','.ola','.omf','.opd','.orf','.ota','.otb','.otg','.oti','.p21','.p2z','.p3d','.p65','.pa','.pac','.pal','.pap','.par','.pat','.pat','.pbm','.pc1','.pc2','.pc3','.pcd','.pct','.pcx','.pd','.pdd','.pdf','.pdg','.pdn','.pe4','.pe4','.pef','.pff','.pfl','.pfr','.pgm','.pi1','.pi2','.pi2','.pi3','.pi4','.pi5','.pi6','.pic','.pic','.pic','.picnc','.pict','.pictclipping','.pix','.pix','.pkg','.pl','.pl0','.pl1','.pl2','.plt','.plt','.ply','.pm','.pm3','.pm4','.pm5','.pm6','.pmd','.pmg','.png','.pni','.pnm','.pnt','.pntg','.pov','.pov','.pp2','.pp4','.pp5','.ppf','.ppm','.ppp','.ppx','.ppz','.prc','.prn','.prw','.ps','.psa','.psb','.psd','.psf','.psg','.psid','.psk','.psp','.pspimage','.psr','.ptg','.ptx','.ptx','.ptx','.pub','.pvr','.pwp','.pws','.pwt','.px','.pxm','.pxr','.pz2','.pz3','.pzp','.pzz','.q3c','.qdf','.qif','.qti','.qtif','.qxd','.qxp','.qxt','.raf','.ras','.raw','.ray','.rb4','.rdl','.rds','.rels','.rfd','.rft','.rgb','.rgb','.ric','.rif','.riff','.rix','.rle','.rsb','.rsm','.rsr','.s','.sar','.sbk','.sbv','.scg','.sci','.scp','.sct','.scu','.scv','.sda','.sdb','.sdr','.sdt','.session','.sff','.sfw','.sgi','.sh3d','.sh3f','.shg','.shp','.si','.sid','.sig','.sim','.sk2','.skl','.skp','.sld','.slddrt','.smp','.snp','.sp','.spc','.spe','.spiff','.spp','.spu','.sr','.srf','.std','.ste','.step','.sto','.stp','.sumo','.sun','.suniff','.sva','.svg','.svgz','.sxd','.t3d','.taac','.tddd','.tex','.tg4','.tga','.thm','.thm','.thumb','.tif','.tiff','.tjp','.tlc','.tn1','.tn2','.tn3','.tny','.tp3','.tpi','.trif','.truck','.u','.u3d','.ufo','.urt','.v','.v3d','.vbr','.vda','.vfc','.vff','.vic','.viff','.vml','.vna','.vrl','.vsd','.vss','.vst','.vst','.vtx','.vue','.vvd','.wb1','.wbc','.wbd','.wbmp','.wbz','.wdp','.web','.wi','.wic','.wmf','.wmp','.wpg','.wpt','.wrl','.wrp','.wrz','.wvl','.x3d','.xar','.xbm','.xcf','.xdw','.xif','.xof','.xpm','.xpr','.xps','.xsi','.xv0','.xwd','.xzfx','.y','.yal','.yaodl','.ydl','.yuv','.zdl','.zdp','.zfx','.zgm','.zif','.zno','.zt']
    end # initialize 


    def help(plugin, topic='')
        "Selects an image file extension. Usage: @img owls_face"
    end # help

    def img(m, params)
        m.reply "#{params[:filename]}#{@ext_list[rand(@ext_list.size)]}"
    end # abort

end # OwlPlugin
plugin = ImgPlugin.new
plugin.map 'img :filename', :action => 'img'

